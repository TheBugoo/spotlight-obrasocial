<!DOCTYPE html>
<html lang="en" id="html">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Punto1</title>
  </head>
  <body>
    <div class="container">
      <div class="col-md-12 col-12 col-sm-12">
        <form
          class="card mt-5 ml-4 mr-4 p-2"
          id="formulario"
          #formregistro="ngForm"
        >
          <div class="card-header" id="titulomensaje" align="center">
            Envia tu mensaje
          </div>
          <div class="card-body">
            <div class="row form-group">
              <label
                class="col-sm-12 col-md-2"
                style="color: rgb(46, 55, 136);"
                align="center"
                ><strong>Para</strong></label
              >
              <input
                class="form-control col-sm-12 col-md-10"
                type="number"
                name="txtdesde"
                required="required"
                [(ngModel)]="mensaje.para"
                placeholder="Telefono de destinatario"
              />
            </div>
            <div class="row form-group">
              <label
                class="col-sm-12 col-md-2"
                style="color: rgb(46, 55, 136);"
                align="center"
                ><strong>De</strong></label
              >
              <input
                class="form-control col-sm-12 col-md-10"
                type="number"
                name="txthasta"
                required="required"
                [(ngModel)]="mensaje.desde"
                placeholder="Escribe tu numero telefonico"
              />
            </div>
            <label id="caracteres"
              ><strong>({{ valor }} Caracteres Restantes)</strong></label
            >
            <div class="row form-group">
              <textarea
                class="form-control ml-4"
                [maxlength]="tamMaxText"
                rows="5"
                required="required"
                name="txtTexto"
                [(ngModel)]="mensaje.texto"
                (ngModelChange)="cambiarTamTexto()"
              >
              </textarea>
            </div>
            <div class="row form-group" style="position: relative; left: 30%;">
              <button
                data-toggle="modal"
                type="button"
                class="btn btn-dark mt-2 ml-5"
                (click)="enviarMensaje()"
                data-target="#exampleModalCenter"
                id="botonevi"
              >
                Enviar!
              </button>
              <button
                type="button"
                class="btn btn-dark mt-2 ml-2"
                (click)="limpiarMensaje()"
                id="botonevi"
              >
                Limpiar Mensaje
              </button>
            </div>
          </div>
        </form>

        <div
          class="modal fade"
          id="exampleModalCenter"
          tabindex="-1"
          role="dialog"
          aria-labelledby="exampleModalCenterTitle"
          aria-hidden="true"
        >
          <div
            class="modal-dialog modal-dialog-centered modal-dialog-scrollable"
            role="document"
          >
            <div class="modal-content" *ngFor="let punto1 of mensajes">
              <div class="modal-header">
                <h5 class="modal-title" id="exampleModalCenterTitle">
                  Mensaje Enviado!
                </h5>
                <button
                  type="button"
                  class="close"
                  data-dismiss="modal"
                  aria-label="Close"
                >
                  <span aria-hidden="true">&times;</span>
                </button>
              </div>
              <div class="modal-body">
                <h6 align="right">{{ punto1.fecha | date: "longDate" }}</h6>
                <h6 align="left">{{ punto1.para }}</h6>
                <p>{{ punto1.texto | titlecase }}</p>
                <h6 align="left">{{ punto1.desde }}</h6>
                <p align="right">@Benjam√≠mSMS</p>
              </div>
              <div class="modal-footer">
                <button
                  type="button"
                  class="btn btn-secondary"
                  data-dismiss="modal"
                >
                  Okay!
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br />
  </body>
</html>
